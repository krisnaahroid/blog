{"version":3,"file":"static/webpack/static/development/pages/stories/[slug].js.93bed1f90560dff63aae.hot-update.js","sources":["webpack:///./pages/stories/[slug].jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { BlogLayout } from \"../../components/templates/layouts\";\nimport { Container, View, Text, Image, Badge} from '../../components/atoms'\n\nimport './stories.scss'\nimport Link from 'next/link';\nimport { useRouter } from 'next/dist/client/router';\nimport { useSelector } from 'react-redux';\nimport * as Markdown from 'react-markdown'\nimport { documentToHtmlString } from '@contentful/rich-text-html-renderer';\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\nimport { BLOCKS, MARKS } from '@contentful/rich-text-types';\n\nconst Bold = ({ children }) => <p className=\"bold\">{children}</p>;\n\n\nconst Story = (props) => {\n    const router = useRouter()\n    const [slug, setSlug] = useState('')\n    const story = useSelector(state => state.stories.story.fields)\n\n    const options = {\n        renderMark: {\n          [MARKS.BOLD]: text => <Text>{text}</Text>,\n        },\n        renderNode: {\n          [BLOCKS.PARAGRAPH]: (node, children) => <Text variant=\"grey\">{children}</Text>,\n        },\n        renderText: text => {\n            return text.split('\\n').reduce((children, textSegment, index) => {\n              return [...children, index > 0 && <br key={index} />, textSegment];\n            }, []);\n          },\n      };\n    const content = documentToReactComponents(story.body, options)\n\n    useEffect(() => {\n        let param = router.query.slug\n        setSlug(param)\n        console.log(\"STATE :: \",story)\n    })\n    return (\n        <BlogLayout>\n            <Container className=\"story-container\">\n                <View className=\"story-content\" direction=\"column\">\n                    <Link href=\"/stories\">\n                        <a>\n                            <View className=\"story-close-btn\">\n                                <Image src=\"/static/illustrations/close-dark.svg\"/>\n                            </View>\n                        </a>\n                    </Link>\n                    <View className=\"story-content-header\">\n                        <h1 className=\"title\">{story.title}</h1>\n                        <Text className=\"subtitle\" family=\"quicksand\">{story.subtitle}</Text>\n                        <Image src={`https:${story.heroImage.fields.file.url}`} className=\"hero-image\"/>\n                    </View>\n                    <View className=\"story-content-body\" direction=\"column\">\n                        {/* <Markdown source={content} /> */}\n                        {content}\n                    </View>\n                    <View className=\"story-content-footer\">\n                        <View className=\"tags-wrapper\">\n                            <Text>Tags</Text>\n                            <View>\n                                <Badge \n                                title=\"Storybook\"\n                                backgroundColor=\"#FFEDED\"\n                                color=\"#FF5252\"/>\n                            </View>\n                        </View>\n                        <View className=\"publish-date\">\n                            <Text>Publish date</Text>\n                            <Text>2020-04-28T14:50+07:00</Text>\n                        </View>\n                    </View>\n                </View>\n            </Container>\n        </BlogLayout>\n    )\n}\n\nexport default Story"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAXA;AAaA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}