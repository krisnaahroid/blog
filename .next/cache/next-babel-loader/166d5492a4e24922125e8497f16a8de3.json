{"ast":null,"code":"var _jsxFileName = \"/Users/ahroidlife/Documents/nextjs/blog/pages/stories/stories.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component, useEffect, useState } from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { BlogLayout } from \"../../components/templates/layouts\";\nimport { Hero } from '../../components/organisms';\nimport ImageHero from '../../assets/illustrations/daily-stories.svg';\nimport { SliderHero, SliderCategories } from '../../components/organisms';\nimport Router from 'next/router';\nimport { Container, View, Text, Rows } from '../../components/atoms';\nimport { CardStories } from '../../components/molecules';\nimport './stories.scss';\nimport Head from 'next/head';\nimport Knobs from './stories.knobs.json';\nimport { useDispatch } from 'react-redux';\nconst {\n  item,\n  populars\n} = Knobs;\nimport { NextSeo } from 'next-seo';\nimport actions from '../../store/modules/stories/actions';\nimport Link from 'next/link';\n\nconst client = require('contentful').createClient({\n  space: process.env.SPACE_ID,\n  accessToken: process.env.ACCESS_TOKEN\n});\n\nconst Stories = () => {\n  const {\n    0: popular,\n    1: setPopular\n  } = useState([]);\n  const {\n    0: stories,\n    1: setStories\n  } = useState([]);\n  const {\n    0: story,\n    1: setStory\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: loading2,\n    1: setLoading2\n  } = useState(false);\n  const dispatch = useDispatch();\n\n  async function fetchPopulars() {\n    const entries = await client.getEntries({\n      content_type: 'popularStories'\n    });\n    if (entries.items) return entries.items;\n    console.log(`Error getting Entries for ${contentType.name}.`);\n  }\n\n  async function fetchStoryCategories() {\n    const entries = await client.getEntries({\n      content_type: 'stories'\n    });\n    if (entries.items) return entries.items;\n    console.log(`Error getting Entries for ${contentType.name}.`);\n  }\n\n  async function fetchStories() {\n    const entries = await client.getEntries({\n      content_type: 'story'\n    });\n    if (entries.items) return entries.items;\n    console.log(`Error getting Entries for ${contentType.name}.`);\n  }\n\n  useEffect(() => {\n    document.body.style.overflow = 'unset';\n\n    async function getPopulars() {\n      const allPosts = await fetchPopulars();\n      setPopular([...allPosts]);\n    }\n\n    async function getStoriesCategories() {\n      const allCategories = await fetchStoryCategories();\n      setStories([...allCategories]);\n    }\n\n    async function getStories() {\n      const allStories = await fetchStories();\n      setStory([...allStories]);\n      setLoading(true);\n    }\n\n    getStories();\n    getStoriesCategories();\n    getPopulars();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: \"Krisna Ahroid | Stories\",\n    description: \"Krisna Ahroid. Stories is my story at day by day. I Write and Talk!\",\n    openGraph: {\n      type: 'website',\n      locale: 'en_IE',\n      url: 'https://www.ahroidlife.com/stories',\n      site_name: 'ahroidlife',\n      title: 'Krisna Ahroid | Stories',\n      description: 'Krisna Ahroid. A UI/UX Designer & Frontend Developer based in Jakarta, Indonesia',\n      image: 'https://res.cloudinary.com/ahroidlife/image/upload/v1588948107/daily-stories_xssful.svg'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), __jsx(BlogLayout, {\n    title: \"Stories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(Hero, {\n    title: \"Stories Resources\",\n    subtitle: \"The more that you read the more things you will know. \",\n    img: ImageHero,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), __jsx(SliderHero, {\n    items: popular,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), loading2 ? __jsx(SliderCategories, {\n    items: stories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }) : __jsx(ContentLoader, {\n    width: 730,\n    height: 304,\n    speed: 1,\n    primaryColor: \"#e4e4e4\",\n    secondaryColor: \"#d3d3d3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, __jsx(\"rect\", {\n    x: \"66\",\n    y: \"49\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"165\",\n    height: \"25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), __jsx(\"rect\", {\n    x: \"66\",\n    y: \"97\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"202\",\n    height: \"41\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), __jsx(\"rect\", {\n    x: \"284\",\n    y: \"97\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"202\",\n    height: \"41\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }), __jsx(\"rect\", {\n    x: \"506\",\n    y: \"96\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"202\",\n    height: \"41\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  })), __jsx(View, {\n    padding: \"100px\",\n    direction: \"column\",\n    className: \"stories-post-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, __jsx(View, {\n    margin: \"0 0 50px 0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    family: \"daily\",\n    size: \"32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Our Stories\")), __jsx(Rows, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, loading ? story.map((item, index) => __jsx(View, {\n    key: index,\n    className: \"grid-item-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }, __jsx(Link, {\n    href: \"/stories/[slug]\",\n    as: `/stories/${item.fields.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 45\n    }\n  }, __jsx(CardStories, {\n    title: item.fields.title,\n    label: item.fields.label,\n    image: item.fields.image.fields.file.url,\n    className: \"card-our-stories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 49\n    }\n  }))))) : __jsx(ContentLoader, {\n    viewBox: \"0 0 500 280\",\n    height: 280,\n    speed: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, __jsx(\"rect\", {\n    x: \"3\",\n    y: \"3\",\n    rx: \"10\",\n    ry: \"10\",\n    width: \"100%\",\n    height: \"180\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }), __jsx(\"rect\", {\n    x: \"6\",\n    y: \"190\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"292\",\n    height: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }), __jsx(\"rect\", {\n    x: \"4\",\n    y: \"215\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"239\",\n    height: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }), __jsx(\"rect\", {\n    x: \"4\",\n    y: \"242\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"274\",\n    height: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }))))));\n};\n\nexport default Stories;","map":{"version":3,"sources":["/Users/ahroidlife/Documents/nextjs/blog/pages/stories/stories.jsx"],"names":["React","Component","useEffect","useState","ContentLoader","BlogLayout","Hero","ImageHero","SliderHero","SliderCategories","Router","Container","View","Text","Rows","CardStories","Head","Knobs","useDispatch","item","populars","NextSeo","actions","Link","client","require","createClient","space","process","env","SPACE_ID","accessToken","ACCESS_TOKEN","Stories","popular","setPopular","stories","setStories","story","setStory","loading","setLoading","loading2","setLoading2","dispatch","fetchPopulars","entries","getEntries","content_type","items","console","log","contentType","name","fetchStoryCategories","fetchStories","document","body","style","overflow","getPopulars","allPosts","getStoriesCategories","allCategories","getStories","allStories","type","locale","url","site_name","title","description","image","map","index","fields","slug","textDecoration","label","file"],"mappings":"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","sourcesContent":["import React, {Component, useEffect, useState} from 'react'\nimport ContentLoader from 'react-content-loader'\nimport { BlogLayout } from \"../../components/templates/layouts\";\nimport {Hero} from '../../components/organisms'\nimport ImageHero from '../../assets/illustrations/daily-stories.svg'\nimport {SliderHero, SliderCategories} from '../../components/organisms'\nimport Router from 'next/router'\nimport { Container, View, Text, Rows} from '../../components/atoms'\nimport { CardStories } from '../../components/molecules'\nimport './stories.scss'\nimport Head from 'next/head'\nimport Knobs from './stories.knobs.json'\nimport { useDispatch } from 'react-redux';\nconst {item, populars} = Knobs\n\nimport { NextSeo } from 'next-seo';\n\nimport actions from '../../store/modules/stories/actions'\nimport Link from 'next/link';\n\nconst client = require('contentful').createClient({\n    space: process.env.SPACE_ID,\n    accessToken: process.env.ACCESS_TOKEN\n})\n\nconst Stories = () => {\n    const [popular, setPopular] = useState([])\n    const [stories, setStories] = useState([])\n    const [story, setStory] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [loading2, setLoading2] = useState(false)\n\n    const dispatch = useDispatch()\n\n\n\n    async function fetchPopulars(){\n        const entries = await client.getEntries({\n            content_type: 'popularStories'\n        })\n        if (entries.items) return entries.items\n        console.log(`Error getting Entries for ${contentType.name}.`)\n    }\n\n    async function fetchStoryCategories(){\n        const entries = await client.getEntries({\n            content_type: 'stories'\n        })\n        if (entries.items) return entries.items\n        console.log(`Error getting Entries for ${contentType.name}.`)\n    }\n    \n    async function fetchStories(){\n        const entries = await client.getEntries({\n            content_type: 'story'\n        })\n        if (entries.items) return entries.items\n        console.log(`Error getting Entries for ${contentType.name}.`)\n    }\n    \n    \n    useEffect(() => {\n        document.body.style.overflow = 'unset';\n\n\n        async function getPopulars() {\n            const allPosts = await fetchPopulars()\n            setPopular([...allPosts])\n          }\n\n        async function getStoriesCategories(){\n            const allCategories = await fetchStoryCategories()\n            setStories([...allCategories])\n        }\n\n        async function getStories(){\n            const allStories = await fetchStories()\n            setStory([...allStories])\n            setLoading(true)\n        }\n        \n        getStories()\n        getStoriesCategories()\n        getPopulars()\n    },[])\n\n\n    return (\n        <>\n        <NextSeo\n            title= 'Krisna Ahroid | Stories'\n            description= 'Krisna Ahroid. Stories is my story at day by day. I Write and Talk!'\n            openGraph={{\n                type: 'website',\n                locale: 'en_IE',\n                url: 'https://www.ahroidlife.com/stories',\n                site_name: 'ahroidlife',\n                title: 'Krisna Ahroid | Stories',\n                description: 'Krisna Ahroid. A UI/UX Designer & Frontend Developer based in Jakarta, Indonesia',\n                image: 'https://res.cloudinary.com/ahroidlife/image/upload/v1588948107/daily-stories_xssful.svg',\n                \n            }}\n        />\n        <BlogLayout title=\"Stories\">\n            <Hero\n                title=\"Stories Resources\"\n                subtitle=\"The more that you read the more things you will know. \"\n                img={ImageHero}/>\n\n            <SliderHero items={popular}/>\n\n            { \n                loading2 ? \n                <SliderCategories items={stories}/>\n                :\n                <ContentLoader\n                    width={730}\n                    height={304}\n                    speed={1}\n                    primaryColor=\"#e4e4e4\"\n                    secondaryColor=\"#d3d3d3\"\n                    >\n      <rect x=\"66\" y=\"49\" rx=\"0\" ry=\"0\" width=\"165\" height=\"25\" />\n      <rect x=\"66\" y=\"97\" rx=\"0\" ry=\"0\" width=\"202\" height=\"41\" />\n      <rect x=\"284\" y=\"97\" rx=\"0\" ry=\"0\" width=\"202\" height=\"41\" />\n      <rect x=\"506\" y=\"96\" rx=\"0\" ry=\"0\" width=\"202\" height=\"41\" />\n                    </ContentLoader>\n            }\n            \n\n            <View padding=\"100px\" direction=\"column\" className=\"stories-post-container\">\n                <View margin=\"0 0 50px 0\">\n                    <Text family=\"daily\" size=\"32\" >Our Stories</Text>\n                </View>\n                <Rows>\n                    {\n                        loading ? \n                        story.map((item, index) => (\n                                    <View key={index} className=\"grid-item-3\">\n                                        <Link href=\"/stories/[slug]\" as={`/stories/${item.fields.slug}`}>\n                                            <a  style={{textDecoration: 'none'}}>\n                                                <CardStories title={item.fields.title} label={item.fields.label}  image={item.fields.image.fields.file.url} className=\"card-our-stories\"/>\n                                            </a>\n                                        </Link>\n                                    </View>\n                        )) :\n                        <ContentLoader\n                            viewBox=\"0 0 500 280\"\n                            height={280}\n                            speed={3}\n                        >\n                            <rect x=\"3\" y=\"3\" rx=\"10\" ry=\"10\" width=\"100%\" height=\"180\" />\n                            <rect x=\"6\" y=\"190\" rx=\"0\" ry=\"0\" width=\"292\" height=\"20\" />\n                            <rect x=\"4\" y=\"215\" rx=\"0\" ry=\"0\" width=\"239\" height=\"20\" />\n                            <rect x=\"4\" y=\"242\" rx=\"0\" ry=\"0\" width=\"274\" height=\"20\" />\n                        </ContentLoader>\n                    }\n                </Rows>\n                \n            </View>\n        </BlogLayout> \n        </>\n        )\n        \n}\n\nexport default Stories;"]},"metadata":{},"sourceType":"module"}